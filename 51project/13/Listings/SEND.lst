C51 COMPILER V9.54   SEND                                                                  03/27/2023 18:12:27 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE SEND
OBJECT MODULE PLACED IN .\Objects\SEND.obj
COMPILER INVOKED BY: D:\keil5\C51\BIN\C51.EXE SEND.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\SEND.l
                    -st) TABS(2) OBJECT(.\Objects\SEND.obj)

line level    source

   1          #include <REGX52.H>
   2          #include <intrins.h>
   3            sfr AUXR = 0x8E;
   4            sbit beep=P2^5;
   5            sbit k1=P3^1;
   6            sbit k2=P3^0;
   7            sbit k3=P3^2;
   8            sbit LSA=P2^2;
   9            sbit LSB=P2^3;
  10            sbit LSC=P2^4;
  11            typedef unsigned u16;
  12            unsigned char RxdByte;
  13            unsigned char receiveData;
  14          
  15          
  16          void ConfigUART(u16 baud)
  17            {
  18   1          SCON=0x50;
  19   1          TMOD&=0x0F;
  20   1          TMOD|=0x20;
  21   1          TH1=256 -(11059200/12/32)/baud; 
  22   1          TL1=TH1;
  23   1          ET1=0;
  24   1          ES=1;
  25   1          TR1=1;
  26   1        }
  27            
  28          
  29          void sendByte(char data_msg)
  30            {
  31   1            SBUF = data_msg;
  32   1            while(!TI);
  33   1            TI = 0; 
  34   1        }
  35           
  36          void sendString(char* str)
  37          {
  38   1        while( *str != '\0')
  39   1          {
  40   2            sendByte(*str);
  41   2            str++;
  42   2          }
  43   1      }
  44           
  45          void delay(unsigned int t)
  46          {
  47   1          while(t--);
  48   1      }
  49          
  50          void Buzzer_Delay()  //@12.000MHz
  51          {
  52   1       unsigned char i;
  53   1        _nop_  ();
  54   1       i = 80;
C51 COMPILER V9.54   SEND                                                                  03/27/2023 18:12:27 PAGE 2   

  55   1       while (--i);
  56   1      }
  57          
  58          
  59          void main()
  60          {
  61   1        while(1){
  62   2          delay(1000);
  63   2          EA = 1;
  64   2          ConfigUART(9600);
  65   2          while(1)
  66   2          {
  67   3                }
  68   2              }
  69   1            }
  70          void InterruptUART() interrupt 4
  71            {
  72   1            if(RI)
  73   1                {
  74   2                      RI=0;
  75   2                      RxdByte=SBUF;
  76   2                      SBUF=RxdByte;
  77   2                }
  78   1            if(TI)
  79   1                {
  80   2                      TI=0;
  81   2                }
  82   1        }
  83            /*if(k1==1){
  84                delay(10);
  85                RxdByte='c';
  86                beepchoice();
  87              }else if(k1==0){
  88                delay(10);
  89                RxdByte='a';
  90                beepchoice();
  91              }else if(k2==1){
  92                delay(10);
  93                RxdByte='d';
  94                beepchoice();
  95              }else if(k2==0){
  96                delay(10);
  97                RxdByte='b';
  98                beepchoice();
  99              }*/
 100            /*switch(RxdByte)
 101                    {
 102                      case 'a':beep_one();break;
 103                      case 'b':beep_two();break;
 104                    }*/


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    119    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
